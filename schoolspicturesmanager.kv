WindowManager:
    MainWindow
    RenomerPhotosIndividuellesWindow
    PersonnaliserBDCWindow
    GenererCommandesWindow
    FaireTotalWindow

<MainWindow>:
    name: "main"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        Button:
            text: "Renomer des photos individuelles"
            on_release: 
                app.root.current = 'RenomerPhotosIndividuelles'
                root.manager.transition.direction = 'left'
        Button:
            text: "Générer les commandes"
            on_release: 
                app.root.current = "GenererCommandes"
                root.manager.transition.direction = 'left'
        Button:
            text: "Personnaliser les Bons de Commandes"
            on_release: 
                app.root.current = "PersonnaliserBDC"
                root.manager.transition.direction = 'left'

<FileChoosePopup>:
    title: "Choose a .CSV File"
    size_hint: .9, .9
    auto_dismiss: False

    BoxLayout:
        orientation: "vertical"
        FileChooser:
            id: filechooser
            path: 'C:/Users/junm/Desktop/Perso/Python Schools Pictures Manager/Essai/'
            FileChooserIconLayout

        BoxLayout:
            size_hint: (1, 0.1)
            pos_hint: {'center_x': .5, 'center_y': .5}
            spacing: 20
            Button:
                text: "Cancel"
                on_release: root.dismiss()
            Button:
                text: "Load"
                on_release: root.load(filechooser.selection)
                id: ldbtn
                disabled: True if filechooser.selection==[] else False

<RenomerPhotosIndividuellesWindow>:
    name: "RenomerPhotosIndividuelles"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        Button:
            text:'Retour'
            on_release: 
                app.root.current = 'main'
                root.manager.transition.direction = 'right'
        Label: 
            text: 'FICHIER CSV'
        Label:
            text: root.path_csv_file
        Button:
            text: 'Chercher le fichier'
            on_press: root.open_popup()
        Label:
            text: "DOSSIER DES PHOTOS À RENOMER"
        Label:
            text: root.path_folder_depart
        Button:
            text: 'Renomer'
            on_press: root.rename_pictures()


<PersonnaliserBDCWindow>:
    name: "PersonnaliserBDC"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        Label:
            text:'Work in progress'
        Button:
            text:'Go back to the main menu'
            on_release: 
                app.root.current = 'main'
                root.manager.transition.direction = 'right'
        
        Label:
            text: 'Image BDC'
        Button:
            text:'Ouvrir'
            on_press: root.open_popup()
        Button:
            text:'Creer les bons de commande'
            on_press: root.create_BDC()

<GenererCommandesWindow>:
    name: "GenererCommandes"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        Label:
            text:'Work in progress'
        Button:
            text:'Go back to the main menu'
            on_release: 
                app.root.current = 'main'
                root.manager.transition.direction = 'right'

